(this["webpackJsonpreact_redux-list-of-posts"]=this["webpackJsonpreact_redux-list-of-posts"]||[]).push([[0],{23:function(e,t,n){e.exports=n(35)},32:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(8),u=n.n(c),l=n(3),o=n(22),s=(n(32),n(12)),i=n.n(s),m=n(15),d=n(19),p=n(5),f=n(20),E=n(21),v=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_LOADING":return!0;case"FINISH_LOADING":return!1;default:return e}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"isLoaded":return!0;case"notLoaded":return!1;default:return e}},g=function(e){return{type:"SET_MESSAGE",message:e}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MESSAGE":return t.message;default:return e}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_POSTS":return t.posts;default:return e}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SORTED_POSTS":return t.posts.filter((function(e){return e.title.includes(t.event)||e.body.includes(t.event)}));default:return e}},S=function(e){return fetch("https://mate-academy.github.io/react_dynamic-list-of-posts/api"+e).then((function(e){return e.json()}))},j=Object(p.combineReducers)({loading:v,message:b,posts:y,sortedPosts:O,loaded:h}),T=function(e){return e.loading},_=function(e){return e.message},I=function(e){return e.posts},L=function(e){return e.sortedPosts},w=function(e){return e.loaded},x=Object(p.createStore)(j,Object(f.composeWithDevTools)(Object(p.applyMiddleware)(E.a))),A=function(e){var t=e.comment,n=t.name,r=t.email,c=t.body;return a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,n),a.a.createElement("p",null,r," "),a.a.createElement("p",null,c))},N=function(e){var t=e.comments;return a.a.createElement(a.a.Fragment,null,a.a.createElement("ul",null,t.map((function(e){return a.a.createElement("li",{className:"li__inside",key:e.id},a.a.createElement(A,{comment:e}))}))))},k=function(e){var t=e.user,n=t.name,r=t.email,c=t.address;return a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,n," ",r," ",c.street," ",c.suite," ",c.city," ",c.zipcode))},F=function(e){var t=e.post;return a.a.createElement(a.a.Fragment,null,a.a.createElement("h2",null,t.title),a.a.createElement("p",null,t.body),a.a.createElement(k,{user:t.user}),a.a.createElement(N,{comments:t.comments}))},D=function(){var e=Object(l.b)(),t=Object(l.c)(I),n=Object(l.c)(L);return a.a.createElement(a.a.Fragment,null,a.a.createElement("input",{type:"text",onChange:function(n){var r=n.target.value;e(function(e,t){return{type:"SET_SORTED_POSTS",posts:e,event:t}}(t,r))},placeholder:"Write something"}),a.a.createElement("ul",null,n.length>=1?n.map((function(e){return a.a.createElement("li",{key:e.id},a.a.createElement(F,{post:e}))})):t.map((function(e){return a.a.createElement("li",{key:e.id},a.a.createElement(F,{post:e}))}))))},G=function(){var e=Object(l.b)(),t=Object(l.c)(T),n=Object(l.c)(w);return a.a.createElement(a.a.Fragment,null,n?a.a.createElement(D,null):a.a.createElement("button",{type:"button",onClick:function(){return e(function(){var e=Object(d.a)(i.a.mark((function e(t){var n,r,a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"START_LOADING"}),e.prev=1,e.next=4,S("/posts.json");case 4:return n=e.sent,e.next=7,S("/users.json");case 7:return r=e.sent,e.next=10,S("/comments.json");case 10:a=e.sent,c=n.map((function(e){return Object(m.a)(Object(m.a)({},e),{},{user:r.find((function(t){return t.id===e.userId})),comments:a.filter((function(t){return t.postId===e.userId}))})})),t({type:"SET_POSTS",posts:c}),t(g("Loaded")),t({type:"isLoaded"}),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(1),t(g("Error occurred when loading data")),t({type:"notLoaded"});case 21:t({type:"FINISH_LOADING"});case 22:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}())},disabled:t,className:"btn btn-outline-primary"},t?"Loading...":"Load"))},P=function(){var e=Object(l.c)(T),t=Object(l.c)(_);return a.a.createElement("div",{className:"App"},a.a.createElement("h2",null,e?"Loading...":t),a.a.createElement(G,null))},R=function(){return a.a.createElement(l.a,{store:x},a.a.createElement(o.a,null,a.a.createElement(P,null)))};u.a.render(a.a.createElement(R,null),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.04587ac5.chunk.js.map